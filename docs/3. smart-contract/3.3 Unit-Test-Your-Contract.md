---
sidebar_position: 3
---

# Unit test your contract

:::tip

The code in this example can be cloned from: https://github.com/gldeng/aelf-nus-workshop-2024-example-code/tree/main/contract.

:::

## 1. Edit files

### 1.1. Edit file `test/HelloWorldTests.cs` and copy/paste the following:

```csharp title="test/HelloWorldTests.cs" showLineNumbers
using System.Threading.Tasks;
using Google.Protobuf.WellKnownTypes;
using Shouldly;
using Xunit;
using System;
using AElf.Sdk.CSharp;

namespace AElf.Contracts.HelloWorld
{
    // This class is unit test class, and it inherit TestBase. Write your unit test code inside it.
    public class HelloWorldTests : TestBase
    {
        [Fact]
        public async Task Update_ShouldUpdateMessageAndFireEvent()
        {
            // Arrange
            var inputValue = "Hello, World!";
            var input = new StringValue { Value = inputValue };

            // Act
            await HelloWorldStub.Update.SendAsync(input);

            // Assert
            var updatedMessage = await HelloWorldStub.Read.CallAsync(new Empty());
            updatedMessage.Value.ShouldBe(inputValue);
        }
// highlight-start
        [Fact]
        public async Task Rng_Test()
        {
            await HelloWorldStub.Initialize.SendAsync(new Empty());
            var result = await HelloWorldStub.CreateCharacter.SendAsync(new Empty());
            var character = await HelloWorldStub.GetMyCharacter.CallAsync(new Empty());

            Assert.NotEqual(new Character(), character);
            Assert.Equal(result.Output, character);
        }
    }
// highlight-end
}
```

## 2. Copy files

Copy the following files:

| From                                             | To                                            |
| ------------------------------------------------ | --------------------------------------------- |
| src/Protobuf/contract/hello_world_contract.proto | test/Protobuf/stub/hello_world_contract.proto |
| src/Protobuf/reference/acs6.proto                | test/Protobuf/stub/acs6.proto                 |
| src/Protobuf/reference/acs12.proto               | test/Protobuf/reference/acs12.proto           |

For your convenience, run these commands:

```bash
cp src/Protobuf/contract/hello_world_contract.proto test/Protobuf/stub/hello_world_contract.proto
cp src/Protobuf/reference/acs6.proto test/Protobuf/stub/acs6.proto
cp src/Protobuf/reference/acs12.proto test/Protobuf/reference/acs12.proto
```
